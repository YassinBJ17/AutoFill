#include "driver/i2c/drv_I2C_public.h"

   if ((ptr_i2cReg->s_IBSR & 0x20) == 0)   {     ptr_i2cReg->s_IBCR =  ptr_i2cReg->s_IBCR | 0x20;         ptr_i2cReg->s_IBCR =  ptr_i2cReg->s_IBCR | 0x10;         ptr_i2cReg->s_IBDR = p_i2c_addr & drv_I2C_MASK_ADDR_WRITE;       timeout = 0;     while ( ((ptr_i2cReg->s_IBSR & 0x03) != 0x02) && (timeout < drv_I2C_TIMEMOUT) )        {         timeout++;     }     if (timeout < drv_I2C_TIMEMOUT)     {       ptr_i2cReg->s_IBDR = p_i2c_cmd;            ptr_i2cReg->s_IBSR = 0x02;       timeout = 0;       while ( ((ptr_i2cReg->s_IBSR & 0x03) != 0x02) && (timeout < drv_I2C_TIMEMOUT) )          {         timeout++;       }     }     else     {       p_bsw_errno_pt->u_b.s_RC_TIMED_OUT = 1;     }     ptr_i2cReg->s_IBCR = ptr_i2cReg->s_IBCR & 0xDF;      ptr_i2cReg->s_IBCR =  ptr_i2cReg->s_IBCR & 0xEF;         ptr_i2cReg->s_IBSR = 0x02;   }
